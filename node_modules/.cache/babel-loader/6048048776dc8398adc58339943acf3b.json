{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"D:/projects/upify-project/mernapp/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/projects/upify-project/mernapp/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/projects/upify-project/mernapp/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useState}from'react';import{Paper}from'@material-ui/core';import{TextField,Button}from'@material-ui/core';import ApiLogin from'./ApiLogin';import axios from'axios';import bcrypt from'bcryptjs';var Signin=function Signin(){var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),login=_useState2[0],setLogin=_useState2[1];var _useState3=useState({username:\"\",password:\"\"}),_useState4=_slicedToArray(_useState3,2),submit=_useState4[0],setSubmit=_useState4[1];var handleChange=function handleChange(event){var name=event.target.name;var value=event.target.value;setLogin(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,value));});};var submitFunc=function submitFunc(event){event.preventDefault();setSubmit(login);axios.get(\"/register/\".concat(login.username)).then(function(response){var userData=response.data;console.log(userData);if(userData){var isMatch=bcrypt.compareSync(login.password,userData.password);if(isMatch){console.log(\"is matched called\");// <Route exact path=\"/user\" component={HomePage} />\nvar details=userData.username;localStorage.setItem(\"token\",details);//setIsLoggedIn(true);\n//window.location.href=`/${userData._id}/Home`;\nwindow.location.href=\"/home\";}else{alert(\"invalid password\");}}else{alert(\"invalid credentials\");}});setLogin({username:\"\",password:\"\"});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Paper,{elevation:3,className:\"signinPaper\",children:[/*#__PURE__*/_jsx(ApiLogin,{}),/*#__PURE__*/_jsx(Paper,{className:\"signin\",id:\"paper\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitFunc,children:[/*#__PURE__*/_jsx(TextField,{className:\"myinput\",fullWidth:true,label:\"Username\",variant:\"standard\",required:true,name:\"username\",onChange:handleChange,value:login.username}),/*#__PURE__*/_jsx(TextField,{type:\"password\",className:\"myinput\",fullWidth:true,label:\"password\",variant:\"standard\",required:true,name:\"password\",onChange:handleChange,value:login.password}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"myinput\",fullWidth:true,variant:\"outlined\",color:\"secondary\",children:\"Login\"})]})})]})});};export default Signin;","map":{"version":3,"sources":["D:/projects/upify-project/mernapp/Client/src/Components/Auth/Signin.jsx"],"names":["React","useState","Paper","TextField","Button","ApiLogin","axios","bcrypt","Signin","username","password","login","setLogin","submit","setSubmit","handleChange","event","name","target","value","prev","submitFunc","preventDefault","get","then","response","userData","data","console","log","isMatch","compareSync","details","localStorage","setItem","window","location","href","alert"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useState } from 'react';\r\nimport {Paper} from '@material-ui/core';\r\nimport {TextField,Button} from '@material-ui/core';\r\nimport ApiLogin from './ApiLogin';\r\nimport axios from 'axios';\r\nimport bcrypt from 'bcryptjs';\r\n\r\n\r\n\r\nconst Signin = () => {\r\n\r\n    const [login, setLogin] = useState({\r\n        username:\"\",\r\n        password:\"\",\r\n      });\r\n   \r\n    const [submit,setSubmit] = useState({\r\n        username:\"\",\r\n        password:\"\",\r\n      })\r\n      const handleChange = (event) => {\r\n        const name = event.target.name;\r\n        const value = event.target.value;\r\n        setLogin((prev)=>{\r\n          return({\r\n            ...prev,\r\n            [name]:value\r\n          });\r\n        })\r\n      };\r\n\r\n      const submitFunc = (event) => {\r\n        event.preventDefault();\r\n        setSubmit(login);\r\n     \r\n        axios.get(`/register/${login.username}`).then((response)=>{\r\n          const userData = response.data;\r\n          console.log(userData);\r\n          if(userData){\r\n            let isMatch = bcrypt.compareSync(login.password,userData.password);\r\n            if(isMatch){\r\n              console.log(\"is matched called\");\r\n              // <Route exact path=\"/user\" component={HomePage} />\r\n              const details=userData.username;\r\n              localStorage.setItem(\"token\",details);\r\n              \r\n      \r\n              //setIsLoggedIn(true);\r\n\r\n              //window.location.href=`/${userData._id}/Home`;\r\n              window.location.href=\"/home\";\r\n            } else {\r\n              alert(\"invalid password\");\r\n            }\r\n          } else {\r\n            alert(\"invalid credentials\");\r\n          }\r\n        })\r\n        \r\n        setLogin({\r\n            username:\"\",\r\n            password:\"\",\r\n        })\r\n      } \r\n\r\n     \r\n    return(\r\n        <>\r\n        <Paper elevation={3} className = \"signinPaper\">\r\n        <ApiLogin />\r\n        <Paper className=\"signin\" id=\"paper\">\r\n        <form onSubmit={submitFunc}>\r\n        <TextField className=\"myinput\" fullWidth={true} label=\"Username\" variant=\"standard\" required={true} name=\"username\" onChange={handleChange} value={login.username}/>\r\n        <TextField type=\"password\" className=\"myinput\" fullWidth={true} label=\"password\" variant=\"standard\" required={true} name=\"password\" onChange={handleChange} value={login.password} />\r\n        <Button type=\"submit\" className=\"myinput\" fullWidth={true} variant=\"outlined\"  color=\"secondary\">Login</Button>\r\n        </form>\r\n        </Paper>\r\n        </Paper> \r\n        \r\n        </>\r\n    );\r\n}\r\n\r\nexport default Signin;"]},"metadata":{},"sourceType":"module"}