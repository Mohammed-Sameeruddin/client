{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"D:/projects/upify-project/mernapp/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:/projects/upify-project/mernapp/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:/projects/upify-project/mernapp/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{Redirect}from\"react-router-dom\";import NavbarLogin from\"../HomePage/NavbarLogin\";import Footer from\"../Footer\";import axios from\"axios\";import{useState}from\"react\";var EditProfile=function EditProfile(){var _useState=useState({username:\"\",email:\"\"}),_useState2=_slicedToArray(_useState,2),register=_useState2[0],setRegister=_useState2[1];var _useState3=useState({username:\"\",email:\"\"}),_useState4=_slicedToArray(_useState3,2),submit=_useState4[0],setSubmit=_useState4[1];// const [profiledata,setProfileData] = useState([]);\n// console.log(profiledata)\n// const getProfileData = () => {\n//     console.log(\"getting data\");\n//     axios.get(`/register/${token}`).then((response)=>{\n//       const gettingdata = response.data;\n//       console.log(gettingdata);\n//       setProfileData(()=>{\n//         return(gettingdata)\n//       })\n//       console.log(profiledata);\n//     })} \n// useEffect(()=>{ \n//       getProfileData()\n//   },[]);\nvar handleChange=function handleChange(event){var name=event.target.name;var value=event.target.value;setRegister(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},name,value));});};var submitFunc=function submitFunc(event){event.preventDefault();setSubmit(register);axios.get(\"/register/\".concat(token)).then(function(response){var updateData=response.data;axios.put(\"/register/\".concat(updateData._id),{username:register.username,email:register.email}).then(function(response){console.log(response);}).catch(function(err){console.log(err);});});};var token=localStorage.getItem(\"token\");if(token==null){return/*#__PURE__*/_jsx(Redirect,{to:\"/signup\"});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavbarLogin,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-card profile-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Change Profile Details\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitFunc,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-item\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"fname\",children:\"User Name:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"uname\",name:\"username\",value:register.username,onChange:handleChange,placeholder:\"Your name..\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-item\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"email\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"email\",name:\"email\",value:register.email,onChange:handleChange,placeholder:\"Enter your email\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-item\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Submit\"})})]})]}),/*#__PURE__*/_jsx(Footer,{})]});};export default EditProfile;","map":{"version":3,"sources":["D:/projects/upify-project/mernapp/Client/src/Components/Profile/EditProfile.jsx"],"names":["React","Redirect","NavbarLogin","Footer","axios","useState","EditProfile","username","email","register","setRegister","submit","setSubmit","handleChange","event","name","target","value","prev","submitFunc","preventDefault","get","token","then","response","updateData","data","put","_id","console","log","catch","err","localStorage","getItem"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport NavbarLogin from \"../HomePage/NavbarLogin\";\r\nimport Footer from \"../Footer\";\r\nimport axios from \"axios\";\r\nimport { useState } from \"react\";\r\n\r\nconst EditProfile=()=>{\r\n    const [register, setRegister] = useState({\r\n        username: \"\",\r\n        email: \"\",\r\n    });\r\n\r\n    const [submit, setSubmit] = useState({\r\n        username: \"\",\r\n        email: \"\",\r\n    })\r\n\r\n    // const [profiledata,setProfileData] = useState([]);\r\n\r\n    // console.log(profiledata)\r\n\r\n    // const getProfileData = () => {\r\n    //     console.log(\"getting data\");\r\n    //     axios.get(`/register/${token}`).then((response)=>{\r\n    //       const gettingdata = response.data;\r\n    //       console.log(gettingdata);\r\n    //       setProfileData(()=>{\r\n    //         return(gettingdata)\r\n    //       })\r\n    //       console.log(profiledata);\r\n    //     })} \r\n    \r\n    // useEffect(()=>{ \r\n    //       getProfileData()\r\n    //   },[]);\r\n\r\n    const handleChange = (event) => {\r\n        const name = event.target.name;\r\n        const value = event.target.value;\r\n        setRegister((prev) => {\r\n            return ({\r\n                ...prev,\r\n                [name]: value\r\n            });\r\n        })\r\n    };\r\n\r\n    \r\n    const submitFunc = (event) => {\r\n        event.preventDefault();\r\n        setSubmit(register)\r\n        axios.get(`/register/${token}`).then((response)=>{\r\n            const updateData = response.data;\r\n             axios.put(`/register/${updateData._id}`,{\r\n                 username : register.username,\r\n                 email : register.email,\r\n             }).then((response)=>{console.log(response)}).catch((err)=>{console.log(err)})\r\n         });\r\n    }\r\n        const token = localStorage.getItem(\"token\");\r\n        if(token == null){\r\n          return <Redirect to=\"/signup\" />\r\n        }\r\n    \r\n    return(\r\n        <>\r\n            <NavbarLogin/>\r\n            <div className=\"profile-card profile-container\">\r\n                    <h3>Change Profile Details</h3>\r\n\r\n                    <form onSubmit={submitFunc}>\r\n                        <div className=\"form-item\">\r\n                            <label for=\"fname\">User Name:</label><br />\r\n                            <input type=\"text\" id=\"uname\" name=\"username\" value={register.username} onChange={handleChange} placeholder=\"Your name..\" />\r\n                        </div>\r\n\r\n                        {/* <div className=\"form-item\">\r\n                            <label for=\"lname\">Last Name:</label><br />\r\n                            <input type=\"text\" id=\"lname\" name=\"lastname\" value={register.lastname} onChange={handleChange} placeholder=\"Your last name..\" />\r\n                        </div> */}\r\n\r\n                        <div className=\"form-item\">\r\n                            <label for=\"email\">Email:</label><br />\r\n                            <input type=\"text\" id=\"email\" name=\"email\" value={register.email} onChange={handleChange} placeholder=\"Enter your email\" />\r\n                        </div>\r\n                        <div className=\"form-item\">\r\n                            <input type=\"submit\" value=\"Submit\" />\r\n                        </div>\r\n                    </form>\r\n            </div>\r\n            <Footer/>\r\n\r\n        </>\r\n    );\r\n};\r\n\r\nexport default EditProfile;"]},"metadata":{},"sourceType":"module"}